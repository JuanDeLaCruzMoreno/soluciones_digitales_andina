
<section class="cards-row">
  <div class="card">
    <div class="card-icon icon-1">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none"
           xmlns="http://www.w3.org/2000/svg" aria-hidden>
        <circle cx="12" cy="12" r="10" fill="rgba(255,255,255,0.6)" />
        <path d="M7 12h10" stroke="#ffffff" stroke-width="1.6" stroke-linecap="round" />
      </svg>
    </div>

    <div class="card-body">
      <div class="card-top">
        <h3 class="card-title">Total Servicios</h3>
      </div>
      <div class="card-value">{{ totalServicios }}</div>
      <div class="card-sub">servicios registrados</div>
    </div>
  </div>

  <div class="card">
    <div class="card-icon icon-2">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none"
           xmlns="http://www.w3.org/2000/svg" aria-hidden>
        <circle cx="12" cy="12" r="10" fill="rgba(255,255,255,0.6)" />
        <path d="M7 12h10" stroke="#ffffff" stroke-width="1.6" stroke-linecap="round" />
        <path d="M12 7v10" stroke="#ffffff" stroke-width="1.6" stroke-linecap="round" />
      </svg>
    </div>

    <div class="card-body">
      <div class="card-top">
        <h3 class="card-title">Servicios Activos</h3>
      </div>
      <div class="card-value">{{ serviciosActivos }}</div>
      <div class="card-sub">disponibles para clientes</div>
    </div>
  </div>

  <div class="card">
    <div class="card-icon icon-3">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none"
           xmlns="http://www.w3.org/2000/svg" aria-hidden>
        <circle cx="12" cy="12" r="10" fill="rgba(255,255,255,0.6)" />
        <path d="M7 12h10" stroke="#ffffff" stroke-width="1.6" stroke-linecap="round" />
      </svg>
    </div>

    <div class="card-body">
      <div class="card-top">
        <h3 class="card-title">Servicios Nuevos</h3>
      </div>
      <div class="card-value">{{ serviciosNuevos }}</div>
      <div class="card-sub">marcados como nuevos</div>
    </div>
  </div>
</section>



<div class="crud-container">
  <header class="crud-header">
    <h2>Administrar servicios</h2>
    <div class="actions">
      <button class="btn primary" (click)="addItem()">+ Nuevo</button>
    </div>
  </header>

  <table class="crud-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Precio</th>
        <th>Nuevo</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let servicio of servicios" [class.inactive]="servicio.activo === false">
        <td>{{ servicio.id }}</td>
        <td>{{ servicio.nombre }}</td>
        <td>{{ servicio.descripcion }}</td>
        <td>{{ servicio.precio | currency:'COP':'symbol':'1.0-0' }}</td>
        <td>{{ servicio.nuevo ? '✅' : '❌' }}</td>
        <td>
          <span [class.badge-active]="servicio.activo !== false" [class.badge-inactive]="servicio.activo === false">
            {{ servicio.activo === false ? 'Inactivo' : 'Activo' }}
          </span>
        </td>
        <td class="actions-col">
          <button class="btn edit" (click)="editarServicio(servicio)">Editar</button>
          <button class="btn danger" (click)="deleteItem(servicio.id)">Eliminar</button>
        </td>
      </tr>
      <tr *ngIf="servicios.length === 0">
        <td colspan="7" class="empty">No hay servicios.</td>
      </tr>
    </tbody>
  </table>
</div>

<app-modal-servicio 
  *ngIf="mostrarModal"
  [servicio]="servicioEditar"
  [modoEdicion]="modoEdicion"
  (cerrar)="cerrarModal()"
  (guardar)="guardarServicio($event)">
</app-modal-servicio>
